---
import Layout from "../layouts/Layout.astro";
import Footer from "../components/Footer.astro";
---

<Layout title="Contact | Joan" description="Let's build something together.">
  <main
    class="bg-black min-h-screen relative flex flex-col justify-center items-center overflow-hidden"
  >
    <!-- Background Gradient for Ambiance -->
    <div
      class="absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-zinc-900/40 via-black to-black z-0 pointer-events-none"
    >
    </div>

    <div class="relative z-10 w-full max-w-2xl px-6 py-20">
      <!-- Minimalist Header -->
      <div class="mb-12 text-center opacity-0 animate-in">
        <h1
          class="text-4xl md:text-5xl font-bold text-white mb-4 tracking-tighter"
        >
          Trabajemos Juntos
        </h1>
        <p class="text-zinc-500 text-lg">Comp√°rteme tu idea.</p>
      </div>

      <!-- Functional Form -->
      <form class="space-y-8 opacity-0 animate-in" id="contact-form">
        <div class="group relative">
          <input
            type="text"
            name="name"
            id="name"
            required
            class="block w-full bg-transparent border-b border-zinc-800 py-3 text-white focus:border-white focus:outline-none transition-colors duration-300 placeholder-transparent peer"
            placeholder="Name"
          />
          <label
            for="name"
            class="absolute left-0 top-3 text-zinc-500 transition-all duration-300 peer-focus:-top-4 peer-focus:text-xs peer-focus:text-white peer-not-placeholder-shown:-top-4 peer-not-placeholder-shown:text-xs peer-not-placeholder-shown:text-zinc-400"
          >
            Tu Nombre
          </label>
        </div>

        <div class="group relative">
          <input
            type="email"
            name="email"
            id="email"
            required
            class="block w-full bg-transparent border-b border-zinc-800 py-3 text-white focus:border-white focus:outline-none transition-colors duration-300 placeholder-transparent peer"
            placeholder="Email"
          />
          <label
            for="email"
            class="absolute left-0 top-3 text-zinc-500 transition-all duration-300 peer-focus:-top-4 peer-focus:text-xs peer-focus:text-white peer-not-placeholder-shown:-top-4 peer-not-placeholder-shown:text-xs peer-not-placeholder-shown:text-zinc-400"
          >
            Tu Email
          </label>
        </div>

        <div class="group relative">
          <textarea
            name="message"
            id="message"
            rows="4"
            required
            class="block w-full bg-transparent border-b border-zinc-800 py-3 text-white focus:border-white focus:outline-none transition-colors duration-300 placeholder-transparent peer resize-none"
            placeholder="Message"></textarea>
          <label
            for="message"
            class="absolute left-0 top-3 text-zinc-500 transition-all duration-300 peer-focus:-top-8 peer-focus:text-xs peer-focus:text-white peer-not-placeholder-shown:-top-8 peer-not-placeholder-shown:text-xs peer-not-placeholder-shown:text-zinc-400"
          >
            Tu Mensaje
          </label>
        </div>

        <div class="pt-6 flex justify-center">
          <button
            type="submit"
            class="group relative inline-flex items-center justify-center px-8 py-3 overflow-hidden font-medium text-white transition duration-300 ease-out border border-white/20 rounded-full hover:bg-white hover:text-black focus:outline-none"
          >
            <span
              class="absolute inset-0 w-full h-full bg-gradient-to-br from-blue-600 to-purple-600 opacity-0 group-hover:opacity-10 transition-opacity duration-300"
            ></span>
            <span class="relative flex items-center gap-2">
              Enviar Mensaje
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-4 h-4 transition-transform duration-300 group-hover:translate-x-1"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"></path>
              </svg>
            </span>
          </button>
        </div>
      </form>

      <!-- Socials Small -->
      <div class="mt-20 flex justify-center gap-6 opacity-0 animate-in">
        <a
          href="https://github.com/2k12"
          target="_blank"
          class="text-zinc-600 hover:text-white transition-colors duration-300"
          >GitHub</a
        >
        <a
          href="https://www.linkedin.com/in/joan-francisco-pastillo-donoso-7823272a1"
          target="_blank"
          class="text-zinc-600 hover:text-white transition-colors duration-300"
          >LinkedIn</a
        >
        <a
          href="mailto:jeipige@gmail.com"
          class="text-zinc-600 hover:text-white transition-colors duration-300"
          >Email</a
        >
      </div>
    </div>
  </main>
  <Footer />
</Layout>

<script>
  import { gsap } from "../animations/core";

  document.addEventListener("astro:page-load", () => {
    // Stagger Reveal
    gsap.to(".animate-in", {
      opacity: 1,
      y: 0,
      duration: 1,
      stagger: 0.2,
      ease: "power2.out",
    });

    // Form Handling (Optional: Add actual submission logic here)
    const form = document.querySelector("#contact-form") as HTMLFormElement;
    form?.addEventListener("submit", (e) => {
      e.preventDefault();
      // Add emailjs or other logic here if needed
      alert("Gracias por tu mensaje. (Demo)");
      form.reset();
    });
  });
</script>

<style>
  .animate-in {
    transform: translateY(20px);
  }
</style>
