---
import ReactIcon from "../icons/projectsicons/React.astro";
import JakartaEE from "../icons/projectsicons/JakartaEE.astro";
import ExpressIcon from "../icons/projectsicons/Express.astro";
import AwsIcon from "../icons/projectsicons/Aws.astro";
import TailwindIcon from "../icons/projectsicons/Tailwind.astro";
import AstroIcon from "../icons/projectsicons/Ast.astro";

const TAGS = {
  REACT: {
    name: "React",
    class: "border-blue-400 text-blue-400 hover:bg-blue-500 hover:text-white",
    icon: ReactIcon,
  },
  EXPRESS: {
    name: "Express",
    class:
      "border-green-400 text-green-400 hover:bg-green-500 hover:text-white",
    icon: ExpressIcon,
  },
  AWS: {
    name: "AWS",
    class:
      "border-yellow-400 text-yellow-400 hover:bg-yellow-500 hover:text-white",
    icon: AwsIcon,
  },
  TAILWIND: {
    name: "Tailwind",
    class: "border-cyan-400 text-cyan-400 hover:bg-cyan-500 hover:text-white",
    icon: TailwindIcon,
  },
  JAKARTAEE: {
    name: "Jakarta EE",
    class:
      "border-orange-400 text-orange-400 hover:bg-orange-500 hover:text-white",
    icon: JakartaEE,
  },
  ASTRO: {
    name: "Astro",
    class: "border-purple-400 text-purple-400 hover:bg-purple-500 hover:text-white",
    icon: AstroIcon,
  },
};

const GITHUB_ICON = `
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
</svg>
`;

const LINK_ICON = `
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"/>
  <path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"/>
</svg>`;

const PROJECTS = [
  {
    title: "Plantz",
    description:
      "Aplicación Web de Gestión de Especies del Mundo Plantae según su Taxonomía.",
    link: "#",
    github: "https://github.com/2k12/Plantz",
    image: "/projects/plantz.webp",
    tags: [TAGS.REACT, TAGS.EXPRESS, TAGS.AWS, TAGS.TAILWIND],
  },
  {
    title: "DeliBums",
    description:
      "DeliBums es una tienda web desarrollada con Astro y TailwindCSS, diseñada para ofrecer una experiencia moderna, rápida y visualmente atractiva en la presentación y venta de productos artesanales de chocolate.",
    link: "https://delibums.netlify.app",
    image: "/projects/delibums.png",
    tags: [TAGS.ASTRO, TAGS.TAILWIND],
  },
  {
    title: "UTN-Coin",
    description:
      "Plataforma tecnológica para promover la participación estudiantil mediante una Moneda Virtual.",
    link: "#",
    // github: "https://github.com/2k12/Plantz",
    image: "/projects/utn_coin.png",
    tags: [TAGS.JAKARTAEE],
  },
];
---

<!-- <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
  {PROJECTS.map(({ image, title, description, tags, github, link }) => (
    <article class="bg-white/5 rounded-2xl shadow-lg shadow-black/20 overflow-hidden backdrop-blur-md border border-white/10 transition-all hover:scale-[1.01] hover:shadow-xl duration-300">
      <img
        class="w-full h-48 object-cover"
        src={image}
        alt={`Captura de ${title}`}
        loading="lazy"
      />
      <div class="p-5">
        <h3 class="text-2xl font-bold text-white/80 mb-2">{title}</h3>
        <p class="text-sm text-white/80 mb-4">{description}</p>
        <ul class="flex flex-wrap gap-2 mb-4">
          {tags.map((tag) => (
            <li>
              <span
                class={`inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-xs font-medium shadow-sm transition-all duration-200 ${tag.class}`}
              >
                <tag.icon class="w-4 h-4" />
                {tag.name}
              </span>
            </li>
          ))}
        </ul>
        <div class="flex gap-4">
          {github && (
            <a
              href={github}
              target="_blank"
              class="text-sm text-blue-400 underline hover:text-blue-300 transition"
            >
              GitHub
            </a>
          )}
        </div>
      </div>
    </article>
  ))}
</div> -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8">
  {
    PROJECTS.map(({ image, title, description, tags, github, link }) => (
      <article
        class="group flex flex-col h-full bg-white/5 rounded-2xl shadow-lg shadow-black/20 overflow-hidden 
                    backdrop-blur-md border border-white/10 
                    transition-all duration-300 
                    hover:shadow-2xl hover:shadow-[#7e3af2]/30 
                    hover:border-[#7e3af2]/60"
      >
        <a
          href={link}
          target="_blank"
          rel="noopener noreferrer"
          aria-label={`Ver proyecto ${title}`}
          class:list={[
            "block overflow-hidden",
            !link && "pointer-events-none", // Deshabilita el enlace si no existe
          ]}
        >
          <img
            class="w-full h-48 object-cover transition-transform duration-300 ease-in-out group-hover:scale-105"
            src={image}
            alt={`Captura de ${title}`}
            loading="lazy"
          />
        </a>

        <div class="p-6 flex flex-col flex-grow">
          <h3 class="text-xl font-bold text-white/95 mb-2 transition-colors group-hover:text-white">
            {link ? (
              <a href={link} target="_blank" rel="noopener noreferrer">
                {title}
              </a>
            ) : (
              title // Renderiza solo texto si no hay enlace
            )}
          </h3>

          <p class="text-sm text-white/70 mb-4">{description}</p>

          <div class="flex-grow">
            {" "}
            <ul class="flex flex-wrap gap-2 mt-auto pt-4 border-t border-white/10">
              {tags.map((tag) => (
                <li>
                  <span
                    class={`inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-xs font-medium shadow-sm transition-all duration-200 ${tag.class}`}
                  >
                    <tag.icon class="w-4 h-4" />
                    {tag.name}
                  </span>
                </li>
              ))}
            </ul>
          </div>
        </div>

        <footer class="p-6 pt-2 flex justify-end gap-3">
          {github && (
            <a
              href={github}
              target="_blank"
              rel="noopener noreferrer"
              class="flex items-center gap-2 text-sm text-white/70 font-medium px-4 py-2 rounded-full border border-white/20
                   transition-all duration-200 
                   hover:text-white hover:border-white/40 hover:bg-white/10"
            >
              <Fragment set:html={GITHUB_ICON} />
              GitHub
            </a>
          )}
          {/* {link && (
            <a
              href={link}
              target="_blank"
              rel="noopener noreferrer"
              class="flex items-center gap-2 text-sm text-white font-medium px-4 py-2 rounded-full border border-transparent
                   bg-[#7e3af2]/80 
                   transition-all duration-200
                   hover:bg-[#7e3af2]"
            >
              <Fragment set:html={LINK_ICON} />
              Ver Proyecto
            </a>
          )} */}
        </footer>
      </article>
    ))
  }
</div>
